<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebRTC Remote Desktop</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <script src="node_modules/@open-ayame/ayame-web-sdk/dist/ayame.min.js"></script>
  <script src="rtcfilesystem-server.js?20220520"></script>
  <script src="webrtc-rdp.js?20220520"></script>
</head>
<body>
  <h1 class="noplayer browser">WebRTC Remote Desktop</h1>
  <h2 class="noplayer browser">Developed By Aviral Maheshwari</h2>

  <div id="content" class="noplayer">
    <div id="pairing" class="block" style="display:none;">
      <h2>Add new device</h2>
      <div class="button-group">
        <button id="generatePin" class="modern-button">Generate PIN</button>
        <button id="inputPin" class="modern-button">Input PIN</button>
      </div>
      <div id="pinDisplayBox" style="display:none;">
        <div class="pin">
          PIN: <span id="pin" class="selectable"></span>
        </div>
        <select id="modeSelect" class="modern-select">
          <option value="twoway" selected>two-way</option>
          <option value="host">host</option>
          <option value="guest">guest</option>
        </select><br />
        <p class="instruction">Waiting.... Visit this page on peer device, and input the PIN.</p>
      </div>
      <form id="pinInputBox">
        <div class="pin">
          <input type="number" inputmode="numeric" maxlength="8" id="pinInput" class="modern-input" placeholder="Enter PIN" />
          <button type='submit' class="modern-button">OK</button>
        </div>
        <p class="instruction">Visit this page on peer device, and generate PIN.</p>
      </form>
    </div>

    <div id="publishOrPlay" style="display:none;text-align: center">
      <div style="text-align:right;">
        <button id="addDeviceButton" class="modern-button">Add Device</button>
        <button class="browser modern-button" id="clearSettingsButton">Reset Settings</button>
      </div>
      <div id="devices"></div>
      <ul id="files" class="streamlist"></ul>
    </div>
  </div>

  <div id="player" style="width: 100%; height: 100vh; position: relative; overflow: hidden;">
    <div id="player-menu">
      <button id="closePlayerButton">Back</button>
      <button id="playButton">Reset</button>
      <button id="toggleShiftButton" class='onoff'>Shift</button>
      <button id="toggleControlButton" class='onoff'>Ctrl</button>
      <button id="toggleAltButton" class='onoff'>Alt</button>
      <button id="muteButton" class='onoff'>Mute</button>
      <button id="selectWindowButton" class='onoff'>Select Window</button>
      <button id="fullscreenButton" class='onoff'>Fullscreen</button>
    </div>
    <video id="screen" autoplay playsinline></video>
    <div id="connectingBox" style="margin: 50pt 0;font-size: 40pt;">
      <div class="loading-spinner"></div>
      Connecting...
    </div>
  </div>
</body>
</html>
